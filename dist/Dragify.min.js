!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d,e,f,g=function(a,b){function d(){this.constructor=a}for(var c in b)h.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},h={}.hasOwnProperty;e=a("./handler"),("undefined"==typeof MiniEventEmitter||null===MiniEventEmitter)&&(f="Dragify depends on the MiniEventEmitter.\nhttps://github.com/hawkerboy7/mini-event-emitter\nDefine it before Dragify",console.warn?console.warn(f):console.log(f)),d=function(a){function b(a,c){var d,f,g,h;this.containers=a,b.__super__.constructor.apply(this,arguments),this.options={threshold:{x:3,y:3},transition:!0},null!=(null!=c?c.transition:void 0)&&(this.options.transition=c.transition),null!=(g=null!=c&&null!=(d=c.threshold)?d.x:void 0)&&(this.options.threshold.x=g),null!=(h=null!=c&&null!=(f=c.threshold)?f.y:void 0)&&(this.options.threshold.y=h),new e(this)}return g(b,a),b}(MiniEventEmitter),window.Dragify=d},{"./handler":3}],2:[function(a,b,c){var d;d=function(){function a(a){var b;this.dragify=a,this.block=!(null!=(b=this.dragify.options)?b.error:void 0)}return a.prototype.error=function(a){var b;if(!this.block)return b="Dragify ~ ",1===a&&(b+="First argument 'Containers' must be an array"),2===a&&(b+="Dragify was unable to find the correct offset, please report an issue on https://github.com/hawkerboy7/dragify/issues/new. Please provide an example in which this error occurs"),console.warn?console.warn(b):console.log(b)},a}(),b.exports=d},{}],3:[function(a,b,c){var d,e,f=function(a,b){return function(){return a.apply(b,arguments)}};d=a("./error"),e=function(){function a(a){this.dragify=a,this.mousemove=f(this.mousemove,this),this.mousedown=f(this.mousedown,this),this.mouseup=f(this.mouseup,this),this.load(),this.setup(),this.listeners()}return a.prototype.load=function(){return this.error=new d({dragify:this.dragify}).error},a.prototype.setup=function(){return this.dragify.containers.constructor!==Array?this.error(1):(this.setData(),this.create())},a.prototype.setData=function(){return this.data={index:null,start:{},offset:{},source:null,parent:null,treshhold:{}},this.previous={}},a.prototype.listeners=function(){var a,b,c,d;for(d=this.dragify.containers,b=0,c=d.length;c>b;b++)a=d[b],this.listen(a);return window.addEventListener("mouseup",this.mouseup)},a.prototype.mouseup=function(a){return 0===a.button?(window.removeEventListener("mousemove",this.mousemove),this.active?this.reset():void 0):void 0},a.prototype.listen=function(a){var b,c,d,e,f,g;for(g=function(a){return function(b){return b.addEventListener("mousedown",function(c){return a.mousedown(c,b)})}}(this),e=a.childNodes,f=[],b=0,c=e.length;c>b;b++)d=e[b],f.push(g(d));return f},a.prototype.mousedown=function(a,b){var c,d,e,f,g,h,i,j;if(0===a.button){if(this.node=b,this.data.source=b.parentNode,this.data.index=this.getIndex(b),this.data.start.x=a.x||a.clientX,this.data.start.y=a.y||a.clientY,i=a.offsetX,j=a.offsetY,a.path)for(h=a.path,f=0,g=h.length;g>f;f++){if(d=h[f],d===b){e=!0;break}i+=d.offsetLeft,j+=d.offsetTop}else(c=function(a){return a===b?e=!0:(i+=a.offsetLeft,j+=a.offsetTop,a.parentNode?c(a.parentNode):void 0)})(a.target);return e?(this.data.offset={x:i,y:j},window.addEventListener("mousemove",this.mousemove)):this.error(2)}},a.prototype.mousemove=function(a){if(this.e=a,this.e.preventDefault(),this.e.X=this.e.clientX,this.e.Y=this.e.clientY,!this.active){if(Math.abs(this.e.X-this.data.start.x)>this.dragify.options.threshold.x&&(this.active=!0),Math.abs(this.e.Y-this.data.start.y)>this.dragify.options.threshold.y&&(this.active=!0),!this.active)return;this.set()}return this.active?this.position():void 0},a.prototype.position=function(){var a;return this.mirror.style.transform="translate("+(this.e.X-this.data.offset.x)+"px,"+(this.e.Y-this.data.offset.y)+"px)",a=document.elementFromPoint(this.e.X,this.e.Y),a&&a===this.previous.target||(this.previous.target=a,!(a=this.valid(a))||a===this.previous.valid||this.node===a)?void 0:(this.previous.valid=a,this["switch"](a))},a.prototype.valid=function(a){var b,c;if(a)return c=!1,-1!==this.dragify.containers.indexOf(a)&&(c=a),b=function(a){return function(d){return-1!==a.dragify.containers.indexOf(d.parentNode)?c=d:d.parentNode?b(d.parentNode):void 0}}(this),b(a),c},a.prototype["switch"]=function(a){return this.target=a,-1!==this.dragify.containers.indexOf(this.target)?void(this.node.parentNode!==this.target&&this.transfer()):this.target.parentNode!==this.node.parentNode||this.getIndex(this.node)>this.getIndex(this.target)?this.insert(this.target.parentNode,this.node,this.target):this.insert(this.target.parentNode,this.node,this.target.nextSibling)},a.prototype.insert=function(a,b,c){var d;return a.insertBefore(b,c),d=this.target!==a?this.target:void 0,this.dragify.emit("move",this.node,this.node.parentNode,this.data.source,d)},a.prototype.getIndex=function(a){var b,c,d,e,f;for(f=a.parentNode.childNodes,d=c=0,e=f.length;e>c;d=++c)if(b=f[d],b===a)return d;return null},a.prototype.transfer=function(){var a,b,c,d,e,f,g,h,i,j,k;for(g=null,h=this.target.childNodes,d=c=0,e=h.length;e>c;d=++c)b=h[d],i=this.distance({top:b.offsetTop,bottom:b.offsetTop+b.clientHeight}),k=i[0],f=i[1],(!g||g>k)&&(g=k,j=b,a=f);return this.target.childNodes[this.target.childNodes.length-1]===j&&a&&(j=null),this.insert(this.target,this.node,j)},a.prototype.distance=function(a){var b,c,d,e;return b=!1,e=this.e.offsetY,d=Math.abs(e-a.top),d>(c=Math.abs(e-a.bottom))&&(d=c),[d,e>a.bottom]},a.prototype.create=function(){return this.mirror=document.createElement("div"),this.mirror.tabIndex=0,this.mirror.className="dragify--mirror"},a.prototype.set=function(){var a;return this.previous.valid=this.node.parentNode,this.dragify.emit("drag",this.node,this.node.parentNode),this.mirror.appendChild(a=this.node.cloneNode(!0)),a.style.width=this.node.offsetWidth+"px",a.style.height=this.node.offsetHeight+"px",document.body.appendChild(this.mirror),this.mirror.focus(),this.addClass(document.body,"dragify--body"),this.dragify.options.transition&&this.addClass(this.node,"dragify--transition"),this.addClass(this.node,"dragify--opaque")},a.prototype.reset=function(){var a;for(this.active=!1;this.mirror.firstChild;)this.mirror.removeChild(this.mirror.firstChild);return document.body.removeChild(this.mirror),this.mirror.removeAttribute("style"),this.removeClass(document.body,"dragify--body"),this.removeClass(this.node,"dragify--opaque"),a=function(a){return function(b){return setTimeout(function(){return a.removeClass(b,"dragify--transition")},500)}}(this),this.dragify.options.transition&&a(this.node),this.data.source===this.node.parentNode&&this.data.index===this.getIndex(this.node)?this.dragify.emit("cancel",this.node,this.node.parentNode):this.dragify.emit("drop",this.node,this.node.parentNode,this.data.source),this.dragify.emit("end",this.node),this.node=null,this.target=null,this.setData()},a.prototype.addClass=function(a,b){var c;return c=[],a.className&&(c=a.className.split(" ")),c.push(b),a.className=c.join(" ")},a.prototype.removeClass=function(a,b){var c;return c=a.className.split(" "),c.splice(c.indexOf(b),1),0===c.length?a.removeAttribute("class"):a.className=c.join(" ")},a}(),b.exports=e},{"./error":2}]},{},[1]);
