!function o(s,h,a){function u(i,t){if(!h[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(d)return d(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var n=h[i]={exports:{}};s[i][0].call(n.exports,function(t){return u(s[i][1][t]||t)},n,n.exports,o,s,h,a)}return h[i].exports}for(var d="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,i,e){var r,h,n,o={}.hasOwnProperty;function a(t,i){var e,r,n,o,s;if(this.containers=t,a.__super__.constructor.apply(this,arguments),i?(this.containers&&this.containers.constructor===Array||(this.containers=[]),i.containers&&(this.containers=this.containers.concat(i.containers))):this.containers&&this.containers.constructor===Object?(i=this.containers,this.containers=[]):i=(this.containers&&this.containers.constructor===Array||(this.containers=[]),{}),0===this.containers.length&&null==i.isContainer)return e="Dragify ~ You provided neither the `containers` array nor the 'isContainer` function. At least one is required.",void(console.warn?console.warn(e):console.log(e));this.options={threshold:{x:3,y:3},transition:!0,isContainer:function(t){return!1},excludes:["INPUT","TEXTAREA","LABEL"]},null!=i.transition&&(this.options.transition=i.transition),null!=(o=null!=(r=i.threshold)?r.x:void 0)&&(this.options.threshold.x=o),null!=(s=null!=(n=i.threshold)?n.y:void 0)&&(this.options.threshold.y=s),null!=i.isContainer&&(this.options.isContainer=i.isContainer),null!=i.excludes&&(this.options.excludes=i.excludes),new h(this)}n=t("mini-event-emitter"),h=t("./handler"),function(t,i){for(var e in i)o.call(i,e)&&(t[e]=i[e]);function r(){this.constructor=t}r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype}(a,n),r=a,i.exports=r},{"./handler":3,"mini-event-emitter":5}],2:[function(t,i,e){var r;function n(t){var i;this.dragify=t,this.block=!(null!=(i=this.dragify.options)?i.error:void 0)}n.prototype.error=function(t){var i;if(!this.block)return i="Dragify ~ ",1.1===t&&(i+="First argument 'Containers' must be an array"),1.2===t&&(i+="'isContainer' must be a function"),2.1===t&&(i+="Dragify was unable to find the correct offset, please report an issue on https://github.com/hawkerboy7/dragify/issues/new. Please provide an example in which this error occurs"),console.warn?console.warn(i):console.log(i)},r=n,i.exports=r},{}],3:[function(t,i,e){function r(t,i){return function(){return t.apply(i,arguments)}}var n,o;function s(t){this.dragify=t,this.mousemove=r(this.mousemove,this),this.mousedown=r(this.mousedown,this),this.mouseup=r(this.mouseup,this),this.load(),this.setup(),this.listeners()}n=t("./error"),s.prototype.load=function(){return this.error=new n({dragify:this.dragify}).error},s.prototype.setup=function(){return this.dragify.settings.name="Dragify",this.dragify.containers||(this.dragify.containers=[]),this.dragify.containers.constructor!==Array?this.error(1.1):"function"===(this.dragify.options.isContainer,!1)?this.error(1.2):(this.setData(),this.create())},s.prototype.setData=function(){return this.data={index:null,start:{},offset:{},source:null,parent:null,treshhold:{}},this.previous={}},s.prototype.listeners=function(){return window.addEventListener("mouseup",this.mouseup),window.addEventListener("mousedown",this.mousedown)},s.prototype.mouseup=function(t){if(0===t.button)return window.removeEventListener("mousemove",this.mousemove),this.active?this.reset():void 0},s.prototype.mousedown=function(t){var i,e,r,n,o,s,h;if(this.ev=t,0===this.ev.button&&!this.active){for(r=0,n=(o=this.dragify.options.excludes).length;r<n;r++)if(e=o[r],this.ev.target.tagName===e)return;var a;if(this.node=this.validMousedown(this.ev.target))return this.data.source=this.node.parentNode,this.data.index=this.getIndex(this.node),this.data.start.x=this.ev.clientX,this.data.start.y=this.ev.clientY,s=this.ev.offsetX,h=this.ev.offsetY,(i=function(t){if(t!==a.node)return s+=t.offsetLeft,h+=t.offsetTop,!t.parentNode||i(t.parentNode)})((a=this).ev.target)?this.error(2.1):(this.data.offset={x:s,y:h},window.addEventListener("mousemove",this.mousemove))}},s.prototype.validMousedown=function(t){var i,e,r;return r=this,i=function(t){try{return r.validContainer(t)}catch(t){return!1}},(e=function(t){return i(t.parentNode)?t:!!t.parentNode&&e(t.parentNode)})(t)},s.prototype.validContainer=function(t){return!(!t||t===document)&&(-1!==this.dragify.containers.indexOf(t)||this.dragify.options.isContainer(t,this.ev))},s.prototype.getIndex=function(t){var i,e,r,n;for(e=i=0,r=(n=t.parentNode.childNodes).length;i<r;e=++i)if(n[e]===t)return e;return null},s.prototype.mousemove=function(t){if(this.e=t,this.e.preventDefault(),this.e.X=this.e.clientX,this.e.Y=this.e.clientY,!this.active){if(Math.abs(this.e.X-this.data.start.x)>this.dragify.options.threshold.x&&(this.active=!0),Math.abs(this.e.Y-this.data.start.y)>this.dragify.options.threshold.y&&(this.active=!0),!this.active)return;this.set()}if(this.active)return this.position()},s.prototype.position=function(){var t;if(this.mirror.style.transform="translate("+(this.e.X-this.data.offset.x)+"px,"+(this.e.Y-this.data.offset.y)+"px)",(!(t=document.elementFromPoint(this.e.X,this.e.Y))||t!==this.previous.target)&&(this.previous.target=t,(t=this.validParent(t))&&t!==this.previous.valid&&this.node!==t))return this.previous.valid=t,this.switch(t)},s.prototype.validParent=function(t){var i,e,r;if(t)return e=!1,this.validContainer(t)&&(e=t),r=this,i=function(t){return r.validContainer(t.parentNode)?e=t:t.parentNode?i(t.parentNode):void 0},e||i(t),e},s.prototype.switch=function(t){if(this.target=t,!this.validContainer(this.target))return this.target.parentNode!==this.node.parentNode||this.getIndex(this.node)>this.getIndex(this.target)?this.insert(this.target.parentNode,this.node,this.target):this.insert(this.target.parentNode,this.node,this.target.nextSibling);this.node.parentNode!==this.target&&this.transfer()},s.prototype.insert=function(t,i,e){var r;return t.insertBefore(i,e),r=this.target!==t?this.target:void 0,this.dragify.emitIf("move",this.node,this.node.parentNode,this.data.source,r)},s.prototype.transfer=function(){var t,i,e,r,n,o,s,h,a,u,d;for(s=null,r=e=0,n=(h=this.target.childNodes).length;e<n;r=++e)i=h[r],d=(a=this.distance({top:i.offsetTop,bottom:i.offsetTop+i.clientHeight}))[0],o=a[1],(!s||d<s)&&(s=d,u=i,t=o);return this.target.childNodes[this.target.childNodes.length-1]===u&&t&&(u=null),this.insert(this.target,this.node,u)},s.prototype.distance=function(t){var i,e,r;return r=this.e.offsetY,(e=Math.abs(r-t.top))>(i=Math.abs(r-t.bottom))&&(e=i),[e,r>t.bottom]},s.prototype.create=function(){return this.mirror=document.createElement("div"),this.mirror.tabIndex=0,this.mirror.className="dragify--mirror"},s.prototype.set=function(){var t;return this.previous.valid=this.node.parentNode,this.dragify.emitIf("drag",this.node,this.node.parentNode),this.mirror.appendChild(t=this.node.cloneNode(!0)),t.style.width=this.node.offsetWidth+"px",t.style.height=this.node.offsetHeight+"px",document.body.appendChild(this.mirror),this.mirror.focus(),this.addClass(document.body,"dragify--body"),this.dragify.options.transition&&this.addClass(this.node,"dragify--transition"),this.addClass(this.node,"dragify--opaque")},s.prototype.reset=function(){var t,i;for(this.active=!1;this.mirror.firstChild;)this.mirror.removeChild(this.mirror.firstChild);return document.body.removeChild(this.mirror),this.mirror.removeAttribute("style"),this.removeClass(document.body,"dragify--body"),this.removeClass(this.node,"dragify--opaque"),t=function(t){return setTimeout(function(){return i.removeClass(t,"dragify--transition")},500)},(i=this).dragify.options.transition&&t(this.node),this.data.source===this.node.parentNode&&this.data.index===this.getIndex(this.node)?this.dragify.emitIf("cancel",this.node,this.node.parentNode):this.dragify.emitIf("drop",this.node,this.node.parentNode,this.data.source),this.dragify.emitIf("end",this.node),this.node=null,this.target=null,this.setData()},s.prototype.addClass=function(t,i){var e;return e=[],t.className&&(e=t.className.split(" ")),e.push(i),t.className=e.join(" ")},s.prototype.removeClass=function(t,i){var e;return(e=t.className.split(" ")).splice(e.indexOf(i),1),0===e.length?t.removeAttribute("class"):t.className=e.join(" ")},o=s,i.exports=o},{"./error":2}],4:[function(t,i,e){function r(t,i){return function(){return t.apply(i,arguments)}}var n;function o(t,i){this.mini=t,this.removeFn=r(this.removeFn,this),this.removeFns=r(this.removeFns,this),this.emit=r(this.emit,this),this.emitIf=r(this.emitIf,this),this.off=r(this.off,this),this.on=r(this.on,this),this.mini.settings={name:(null!=i?i.name:void 0)||"MiniEventEmitter",error:(null!=i?i.error:void 0)||!1,trace:(null!=i?i.trace:void 0)||!1},this.mini.events={},this.mini.groups={}}o.prototype.on=function(t,i,e){var r,n,o;return i=(o=this.optional(i,e))[0],e=o[1],this.valid("on",t,i,e)&&((n=this.mini.groups)[i]?n[i][t]?n[i][t].push(e):n[i][t]=[e]:(n[i]={},n[i][t]=[e]),(r=this.mini.events)[t]?r[t].push(e):r[t]=[e]),this.mini},o.prototype.off=function(t,i,e){var r,n,o;return 0===arguments.length?this.removeAll():(i=(o=this.optional(i,e))[0],e=o[1],this.valid("off",t,i,e)?this.mini.groups[i]?t?(r=this.mini.groups[i][t])?e?(-1===(n=r.indexOf(e))?this.error("off",2,t,i):this.removeFn(t,i,r,e,n),this.mini):this.removeFns(t,i,r):(this.error("off",8,t,i),this.mini):this.removeGroup(i):(this.error("off",7,t,i),this.mini):this.mini)},o.prototype.emitIf=function(){return this._emit(arguments,!0)},o.prototype.emit=function(){return this._emit(arguments)},o.prototype._emit=function(t,i){var e,r,n,o;if(e=(t=Array.from(t)).shift(),!(n=this.validEvent(e,i)))return this.mini;for(this.trace(e,t),o=n.length-1;0<=o;o+=-1)(r=n[o]).apply(r,t);return this.mini},o.prototype.valid=function(t,i,e,r){if("on"===t){if(!this.isString(i))return this.error(t,1);if(!this.isString(e))return this.error(t,5);if(!this.isFunction(r))return this.error(t,6,i,e)}if("off"===t){if(null!==i&&!this.isString(i))return this.error(t,1);if(!this.isString(e))return this.error(t,5);if(r&&!this.isFunction(r))return this.error(t,6,i,e)}return!0},o.prototype.validEvent=function(t,i){var e;return t?this.isString(t)?(e=this.mini.events[t])?e:(i||this.error("emit",4,t),null):this.error("emit",1):this.error("emit",3)},o.prototype.error=function(t,i,e,r){var n;return this.mini.settings.error&&(n=this.mini.settings.name+" ~ "+t+" ~ ",1===i&&(n+="Event name must be a string"),2===i&&(n+='Provided function to remove with event "'+e+'" in group "'+r+'" is not found'),3===i&&(n+="Event was not provided"),4===i&&(n+='EventListener for event "'+e+'" does not exist'),5===i&&(n+="Provided group must be a string"),6===i&&(n+='The last param provided with event "'+e+'" and group "'+r+'" is expected to be a function'),7===i&&(n+='Provided group "'+r+'" is not found'),8===i&&(n+='Event "'+e+'" does not exist for the provided group "'+r+'"'),console&&(console.warn?console.warn(n):console.log(n))),null},o.prototype.optional=function(t,i){return[t=null==i&&this.isFunction(t)?(i=t,""):t||"",i]},o.prototype.removeAll=function(){return this.mini.events={},this.mini.groups={},this.mini},o.prototype.removeGroup=function(t){var i,e,r;for(i in r=this.mini.groups[t])e=r[i],this.removeFns(i,t,e);return this.mini},o.prototype.removeFns=function(t,i,e){var r,n;for(n=e.length-1;0<=n;n+=-1)r=e[n],this.removeFn(t,i,e,r);return this.mini},o.prototype.removeFn=function(t,i,e,r,n){if(n=n||e.indexOf(r),e.splice(n,1),0===e.length&&delete this.mini.groups[i][t],0===this.objLength(this.mini.groups[i])&&delete this.mini.groups[i],n=this.mini.events[t].indexOf(r),this.mini.events[t].splice(n,1),0===this.mini.events[t].length)return delete this.mini.events[t]},o.prototype.trace=function(t,i){var e;if(this.mini.settings.trace)return e=this.mini.settings.name+" ~ trace ~ "+t,0===i.length?console.debug?console.log("%c "+e,"color: #13d"):console.log(e):console.debug?console.log("%c "+e,"color: #13d",i):console.log(e,i)},o.prototype.isString=function(t){return"string"==typeof t||t instanceof String},o.prototype.objLength=function(t){return Object.keys(t).length},o.prototype.isFunction=function(t){return"function"==typeof t},n=o,i.exports=n},{}],5:[function(t,i,e){var r,n;r=t("./handler"),n=function(t){var i;i=new r(this,t),this.on=i.on,this.off=i.off,this.emit=i.emit,this.emitIf=i.emitIf,this.trigger=i.emit,this.triggerIf=i.emitIf},i.exports=n},{"./handler":4}]},{},[1]);
